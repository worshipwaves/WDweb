{
  "frame_design": {
    "shape": "circular",
    "frame_orientation": "vertical",
    "finish_x": 36.0,
    "finish_y": 36.0,
    "finish_z": 0.375,
    "number_sections": 2,
    "separation": 2.0,
    "species": "maple",
    "material_thickness": 0.375,
    "section_materials": [
      {"section_id": 0, "species": "walnut-black-american", "grain_direction": "vertical"},
      {"section_id": 1, "species": "walnut-black-american", "grain_direction": "vertical"},
      {"section_id": 2, "species": "walnut-black-american", "grain_direction": "vertical"},
      {"section_id": 3, "species": "walnut-black-american", "grain_direction": "vertical"}
    ]
  },
  "pattern_settings": {
    "slot_style": "radial",
		"pattern_diameter": 36.0,
    "number_slots": 48,
    "bit_diameter": 0.25,
    "spacer": 0.5,
    "x_offset": 0.75,
    "y_offset": 1.5,
    "scale_center_point": 1.0,
    "amplitude_exponent": 1.0,
    "orientation": "auto",
    "grain_angle": 90.0,
    "lead_overlap": 0.25,
    "lead_radius": 0.25,
    "dovetail_settings": {
      "generate_dovetails": false,
      "show_dovetails": false,
      "dovetail_inset": 0.0625,
      "dovetail_cut_direction": "climb",
      "dovetail_edge_default": 0,
      "dovetail_edge_overrides": "{}"
    }
  },
	"size_defaults": {
    "24": {
      "number_slots": 36,
      "separation": 1.0
    },
    "36": {
      "number_slots": 48,
      "separation": 2.0
    },
    "48": {
      "number_slots": 60,
      "separation": 3.0
    }
  },
  "audio_source": {
    "source_file": null,
    "start_time": 0.0,
    "end_time": 0.0,
    "use_stems": false,
    "stem_choice": "vocals"
  },
  "audio_processing": {
    "num_raw_samples": 200000,
    "filter_amount": 0.05,
    "apply_filter": false,
    "binning_method": "mean",
    "binning_mode": "mean_abs",
    "remove_silence": false,
    "silence_threshold": -20,
    "silence_duration": 0.5
  },
  "peak_control": {
    "method": "none",
    "threshold": 0.8,
    "roll_amount": 0,
    "nudge_enabled": false,
    "clip_enabled": false,
    "compress_enabled": false,
    "scale_enabled": false,
    "scale_all_enabled": false,
    "manual_enabled": false,
    "clip_percentage": 0.8,
    "compression_exponent": 0.75,
    "threshold_percentage": 0.9,
    "scale_all_percentage": 1.0,
    "manual_slot": 0,
    "manual_value": 1.0
  },
  "visual_correction": {
    "apply_correction": true,
    "correction_scale": 1.0,
    "correction_mode": "nudge_adj"
  },
  "display_settings": {
    "show_debug_circle": false,
    "debug_circle_radius": 1.5,
    "show_labels": false,
    "show_offsets": false
  },
  "export_settings": {
    "cnc_margin": 1.0,
    "sections_in_sheet": 1
  },
  "artistic_rendering": {
    "artistic_style": "watercolor",
    "color_palette": "ocean",
    "opacity": 1.0,
    "artistic_intensity": 0.8,
    "amplitude_effects": "color",
    "amplitude_influence": 1.0,
    "watercolor_settings": {
      "wetness": 0.7,
      "pigment_load": 0.8,
      "paper_roughness": 0.5,
      "bleed_amount": 0.6,
      "granulation": 0.4
    },
    "oil_settings": {
      "brush_size": 0.5,
      "impasto": 0.4,
      "brush_texture": 0.5,
      "color_mixing": 0.6
    },
    "ink_settings": {
      "ink_flow": 0.4,
      "ink_density": 0.8,
      "edge_darkening": 0.6,
      "dryness": 0.3
    },
    "physical_simulation": {
      "brush_pressure": 0.7,
      "paint_thickness": 0.5,
      "drying_time": 0.5,
      "medium_viscosity": 0.5
    },
    "noise_settings": {
      "noise_scale": 20.0,
      "noise_octaves": 4.0,
      "noise_seed": 0.0,
      "flow_speed": 0.3,
      "flow_direction": 0.0
    },
    "color_palettes": {
      "ocean": {
        "color_deep": [0.0, 0.2, 0.4, 0.9],
        "color_mid": [0.0, 0.4, 0.6, 0.7],
        "color_light": [0.2, 0.6, 0.8, 0.5],
        "paper_color": [0.98, 0.97, 0.95, 1.0]
      },
      "sunset": {
        "color_deep": [0.4, 0.1, 0.0, 0.9],
        "color_mid": [0.7, 0.3, 0.1, 0.7],
        "color_light": [1.0, 0.6, 0.2, 0.5],
        "paper_color": [0.98, 0.95, 0.93, 1.0]
      },
      "forest": {
        "color_deep": [0.0, 0.2, 0.1, 0.9],
        "color_mid": [0.1, 0.4, 0.2, 0.7],
        "color_light": [0.3, 0.6, 0.4, 0.5],
        "paper_color": [0.97, 0.98, 0.95, 1.0]
      },
      "monochrome": {
        "color_deep": [0.1, 0.1, 0.1, 0.9],
        "color_mid": [0.4, 0.4, 0.4, 0.7],
        "color_light": [0.7, 0.7, 0.7, 0.5],
        "paper_color": [0.98, 0.98, 0.98, 1.0]
      }
    }
  },
  "wood_materials": {
    "default_species": "walnut-black-american",
    "default_grain_direction": "vertical",
    "species_catalog": [
      {"id": "walnut-black-american", "display": "Walnut", "wood_number": "109"},
      {"id": "cherry-black", "display": "Cherry", "wood_number": "085"},
      {"id": "maple", "display": "Maple", "wood_number": "098"},
      {"id": "maple-birdseye", "display": "Maple (Birdseye)", "wood_number": "097"},
      {"id": "oak-white-american", "display": "Oak (White)", "wood_number": "100"},
      {"id": "oak-red-american", "display": "Oak (Red)", "wood_number": "099"},
      {"id": "mahogany-american", "display": "Mahogany", "wood_number": "095"},
      {"id": "alder-red", "display": "Alder", "wood_number": "079"},
      {"id": "bloodwood", "display": "Bloodwood", "wood_number": "082"},
      {"id": "bubinga", "display": "Bubinga", "wood_number": "054"},
      {"id": "cedar-western-red", "display": "Cedar", "wood_number": "083"},
      {"id": "padauk-african", "display": "Padauk", "wood_number": "069"},
      {"id": "pine-north-carolina", "display": "Pine", "wood_number": "102"},
      {"id": "wenge", "display": "Wenge", "wood_number": "077"},
      {"id": "zebrano", "display": "Zebrawood", "wood_number": "078"}
    ],
    "texture_config": {
      "size_thresholds_inches": {
        "small": 18.0,
        "medium": 30.0
      },
      "size_map": {
        "small": {"folder": "Small_36cm", "dimensions": "300x036cm"},
        "medium": {"folder": "Medium_99cm", "dimensions": "300x099cm"},
        "large": {"folder": "Large_400cm", "dimensions": "300x400cm"}
      },
      "base_texture_path": "/assets/textures/wood"
    },
    "rendering_config": {
      "grain_rotation_offset_degrees": 0.0,
      "grain_direction_angles": {
        "horizontal": 0,
        "vertical": 90,
        "radiant": "use_section_positioning",
        "diamond": "use_section_positioning_4_diamond"
      }
    },
    "geometry_constants": {
      "section_positioning_angles": {
        "1": [0],
        "2": [0, 180],
        "3": [90, 330, 210],
        "4_radiant": [135, 45, 315, 225],
        "4_diamond": [45, 315, 225, 135]
      },
      "section_rotation_offsets": {
        "2": [0, 180],
        "3": [60, 300, 180],
        "4": [0, 270, 180, 90]
      }
    }
  },
  "processed_amplitudes": [],
  
  "style_presets": [
    {"id": "n1", "sections": 1, "slots": 48, "name": "Circular"},
    {"id": "n2", "sections": 2, "slots": 48, "name": "Split"},
    {"id": "n3", "sections": 3, "slots": 72, "name": "Trinity"},
    {"id": "n4", "sections": 4, "slots": 96, "name": "Quad"}
  ],
	
  "_ui_config": {
    "elements": {
      "shape": {
        "id": "shape",
        "type": "select",
        "label": "Shape",
        "state_path": "frame_design.shape",
        "options": [
          {"value": "circular", "label": "Circular"},
          {"value": "rectangular", "label": "Rectangular"},
					{"value": "diamond", "label": "Diamond"}
        ]
      },
			"size": {
        "id": "size",
        "type": "select",
        "label": "Size",
        "state_path": "frame_design.finish_x",
        "show_when": {"shape": ["circular"]},
        "options": [
          {"value": 24, "label": "24\""},
          {"value": 36, "label": "36\""},
          {"value": 48, "label": "48\""},
					{"value": 64, "label": "64\""}
        ],
        "on_change_triggers": [
          {
            "action": "apply_size_defaults",
            "source_path": "size_defaults"
          }
        ]
      },
      "sections": {
        "id": "sections",
        "type": "select",
        "label": "Sections",
        "state_path": "frame_design.number_sections",
        "options": [
          {"value": 1, "label": "1"},
          {"value": 2, "label": "2"},
          {"value": 3, "label": "3", "disabled_when": {"shape": ["rectangular", "diamond"]}},
          {"value": 4, "label": "4"}
        ]
      },
      "slots": {
        "id": "slots",
        "type": "range",
        "label": "Slots",
        "state_path": "pattern_settings.number_slots",
        "min": 24,
        "max": 120,
        "step": 1,
        "display_value_id": "slotsValue"
      },
      "width": {
        "id": "width",
        "type": "select",
        "label": "Width",
        "state_path": "frame_design.finish_x",
        "show_when": {"shape": ["rectangular", "diamond"]},
        "options": [
          {"value": 20, "label": "20\""},
          {"value": 24, "label": "24\""},
          {"value": 36, "label": "36\""},
          {"value": 48, "label": "48\""},
          {"value": 60, "label": "60\""},
					{"value": 72, "label": "72\""},
					{"value": 84, "label": "84\""}
        ]
      },
      "height": {
        "id": "height",
        "type": "select",
        "label": "Height",
        "state_path": "frame_design.finish_y",
        "show_when": {"shape": ["rectangular", "diamond"]},
        "options": [
          {"value": 20, "label": "20\""},
          {"value": 24, "label": "24\""},
          {"value": 36, "label": "36\""},
          {"value": 48, "label": "48\""},
          {"value": 60, "label": "60\""},
					{"value": 72, "label": "72\""},
					{"value": 84, "label": "84\""}
        ]
      },
			"patternDiameter": {
        "id": "patternDiameter",
        "type": "select",
        "label": "Pattern Dia.",
        "state_path": "pattern_settings.pattern_diameter",
        "show_when": {"shape": ["rectangular", "diamond"]},
        "options": [
          {"value": 24, "label": "24\""},
          {"value": 36, "label": "36\""},
          {"value": 48, "label": "48\""},
          {"value": 60, "label": "60\""}
        ]
      },
      "separation": {
        "id": "separation",
        "type": "range",
        "label": "Gap",
        "state_path": "frame_design.separation",
        "min": 0.5,
        "max": 4.0,
        "step": 0.5,
        "display_value_id": "separationValue"
      },
      "woodSpecies": {
        "id": "woodSpecies",
        "type": "select",
        "label": "Wood Species",
        "state_path": "frame_design.section_materials[].species",
        "options_from_endpoint": "/api/config/wood-materials",
        "options_path": "species_catalog",
        "default_value_from_endpoint": "/api/config/wood-materials",
        "default_value_path": "default_species"
      },
      "grainDirection": {
        "id": "grainDirection",
        "type": "select",
        "label": "Grain Direction",
        "state_path": "frame_design.section_materials[].grain_direction",
        "options": [
					{ "value": "horizontal", "label": "Horizontal" },
					{ "value": "vertical", "label": "Vertical" },
					{ "value": "radiant", "label": "Radiant", "show_when": { "number_sections": [2, 3, 4] } },
					{ "value": "diamond", "label": "Diamond", "show_when": { "number_sections": [4] } }
				],
        "default_value_from_endpoint": "/api/config/wood-materials",
        "default_value_path": "default_grain_direction"
      }
    },
    "buttons": {
      "updateDesign": {
        "id": "updateButton",
        "label": "Update Design",
        "action": "submit_composition_update"
      },
      "resetCamera": {
        "id": "resetCameraButton",
        "label": "â†»",
        "title": "Reset Camera View",
        "action": "reset_camera"
      }
    },
    "upload": {
      "container_id": "uploadContainer",
      "drop_zone_id": "uploadDropZone",
      "file_input_id": "fileInput",
      "accepted_mime_types": ["audio/mpeg", "audio/wav", "audio/flac", "audio/mp3", "audio/x-wav", "audio/x-m4a"],
      "accepted_extensions": ["mp3", "wav", "flac", "m4a", "aac", "ogg"],
      "max_file_size_mb": 100,
      "hint_delay_ms": 3000,
      "messages": {
        "invalid_type": "Please upload an audio file (MP3, WAV, or FLAC)",
        "file_too_large": "File size must be less than {max_size}MB",
        "drop_hint": "Drop your audio file here"
      }
    }
  }
}