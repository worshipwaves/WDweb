<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="WaveDesigner - Custom Soundwave Art">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <title>WaveDesigner</title>
  <!-- <link rel="stylesheet" href="/style.css"> -->
  <link rel="stylesheet" href="/test.css">
</head>
<body>
  <div id="root">
    <!-- Simulated Shopify Header -->
    <header class="simulated-header">
      <a href="#" class="header-logo">Worship Waves</a>
      <nav class="header-nav">
        <a href="#" class="header-link">Shop</a>
        <a href="#" class="header-link">About</a>
        <a href="#" class="header-link">Contact</a>
      </nav>
    </header>
    <!-- ========================================
         LAYER 1: CANVAS (Behind Everything)
         z-index: 0
         ======================================== -->
    <div class="canvas-container">
      <canvas id="renderCanvas"></canvas>
      
      <!-- Processing overlay stays in canvas layer (z-index: 5) -->
      <div id="processingOverlay" class="processing-overlay">
      <div class="processing-content">
        <div class="processing-spinner"></div>
        <div class="processing-message">Processing...</div>
        <div class="processing-progress-bar">
          <div class="processing-progress-fill"></div>
        </div>
      </div>
    </div>
    
    <!-- Upload interface (fullscreen when active) -->
      <div id="uploadContainer" class="upload-container"></div>
    
    <!-- Waveform Canvas Overlay -->
      <canvas id="waveformCanvas" class="waveform-overlay" style="display: none;"></canvas>
      
      <!-- Texture Loading Indicator -->
      <div id="textureLoadingIndicator" class="texture-loading-indicator">
        <div class="loading-spinner-small"></div>
        <span class="loading-text">Loading exotic wood species... (<span id="texturesLoaded">0</span> of <span id="texturesTotal">15</span>)</span>
      </div>			
    </div>

    <!-- ========================================
         LAYER 2: UI OVERLAYS (On Top)
         z-index: 10+
         ======================================== -->
    <div class="ui-overlay-container">
      <!-- SIDEBAR HEADER: Back link + Logo -->
      <div class="sidebar-header">
        <a href="/" class="back-link">‚Üê Back to Shop</a>
        <span class="sidebar-logo">Worship Waves</span>
      </div>

      <!-- LEFT MAIN PANEL: Categories -->
      <aside id="left-main-panel" class="panel panel-left-main">
        <!-- Populated by JavaScript -->
      </aside>

      <!-- LEFT SECONDARY PANEL: Subcategories -->
      <!-- DEPRECATED: Accordion replaces horizontal subcategory tabs -->
      <aside id="left-secondary-panel" class="panel panel-left-secondary" style="display: none;" aria-hidden="true">
        <!-- Populated by JavaScript -->
      </aside>

      <!-- RIGHT SECONDARY PANEL: Filter Strip -->
      <!-- DEPRECATED: Toolbars now embedded in accordion headers -->
      <aside id="right-secondary-panel" class="panel panel-right-secondary" style="display: none;" aria-hidden="true">
        <!-- Populated by JavaScript -->
      </aside>

      <!-- RIGHT MAIN PANEL: Options Grid -->
      <aside id="right-main-panel" class="panel panel-right-main" style="display: none;">
        <!-- Populated by JavaScript -->
      </aside>

      <!-- SIDEBAR FOOTER: CTA Buttons -->
      <div class="sidebar-footer">
        <button class="sidebar-cta sidebar-cta-secondary" id="shareBtn">Share</button>
        <button class="sidebar-cta sidebar-cta-primary" id="orderBtn">Order</button>
      </div>

      <!-- RIGHT PANEL STACK: Cascading Panels (WOOD category) -->
      <div id="right-panel-stack" class="panel-stack-right">
        <aside id="right-panel-primary" class="panel panel-right" style="z-index: 11; display: none;">
          <!-- Populated dynamically -->
        </aside>
      </div>
      
      <!-- MOBILE: Bottom Sheet (Phase 6 implementation) -->
      <div id="bottom-sheet" class="bottom-sheet" style="display: none;">
        <div class="bottom-sheet-handle"></div>
        <div class="bottom-sheet-content">
          <!-- Mobile navigation content -->
        </div>
      </div>
    </div>
  </div>
	<!-- Bottom Controls -->
  <div class="bottom-controls">
    <button class="control-button" id="resetViewBtn">‚Üª</button>
    <button class="control-button" id="zoomInBtn">+</button>
    <button class="control-button" id="zoomOutBtn">‚àí</button>
    <button class="control-button" id="fullscreenBtn">‚õ∂</button>
    <button class="control-button" id="toggleMenusBtn">üëÅ</button>
  </div>

  <script type="module" src="/src/main.ts"></script>
</body>
</html>