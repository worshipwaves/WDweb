<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="WaveDesigner - Custom Soundwave Art">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <title>WaveDesigner</title>
  <link rel="stylesheet" href="/public/style.css">
</head>
<body>
  <div id="root">
    <!-- ========================================
         LAYER 1: CANVAS (Behind Everything)
         z-index: 0
         ======================================== -->
    <div class="canvas-container">
      <canvas id="renderCanvas"></canvas>
      
      <!-- Processing overlay stays in canvas layer (z-index: 5) -->
      <div id="processingOverlay" class="processing-overlay">
      <div class="processing-content">
        <div class="processing-spinner"></div>
        <div class="processing-message">Processing...</div>
        <div class="processing-progress-bar">
          <div class="processing-progress-fill"></div>
        </div>
      </div>
    </div>
    
    <!-- Upload interface (fullscreen when active) -->
      <div id="uploadContainer" class="upload-container"></div>
    
    <!-- Waveform Canvas Overlay -->
      <canvas id="waveformCanvas" class="waveform-overlay" style="display: none;"></canvas>
      
      <!-- Texture Loading Indicator -->
      <div id="textureLoadingIndicator" class="texture-loading-indicator">
        <div class="loading-spinner-small"></div>
        <span class="loading-text">Loading exotic wood species... (<span id="texturesLoaded">0</span> of <span id="texturesTotal">15</span>)</span>
      </div>
    </div>

    <!-- ========================================
         LAYER 2: UI OVERLAYS (On Top)
         z-index: 10+
         ======================================== -->
    <div class="ui-overlay-container">
      <!-- LEFT MAIN PANEL: Categories -->
      <aside id="left-main-panel" class="panel panel-left-main">
        <!-- Populated by JavaScript -->
      </aside>

      <!-- LEFT SECONDARY PANEL: Subcategories -->
      <aside id="left-secondary-panel" class="panel panel-left-secondary" style="display: none;">
        <!-- Populated by JavaScript -->
      </aside>

      <!-- RIGHT SECONDARY PANEL: Filter Strip -->
      <aside id="right-secondary-panel" class="panel panel-right-secondary" style="display: none;">
        <!-- Populated by JavaScript -->
      </aside>

      <!-- RIGHT MAIN PANEL: Options Grid -->
      <aside id="right-main-panel" class="panel panel-right-main" style="display: none;">
        <!-- Populated by JavaScript -->
      </aside>

      <!-- RIGHT PANEL STACK: Cascading Panels (WOOD category) -->
      <div id="right-panel-stack" class="panel-stack-right">
        <aside id="right-panel-primary" class="panel panel-right" style="z-index: 11; display: none;">
          <!-- Populated dynamically -->
        </aside>
      </div>
    
    <!-- TOP CONTROLS: Camera Reset, Zoom -->
      <div class="ui-controls-top">
        <button id="resetCameraButton" title="Reset Camera View">↺</button>
        <button id="zoomToggleButton" title="Toggle Zoom">⊕</button>
      </div>
      
      <!-- TOP LEFT CONTROLS: New File -->
      <div class="ui-controls-top-left">
				<button id="newFileButton" title="Upload New File">
					<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
						<polyline points="17 8 12 3 7 8"></polyline>
						<line x1="12" y1="3" x2="12" y2="15"></line>
					</svg>
				</button>
			</div>	
      
      <!-- MOBILE: Bottom Sheet (Phase 6 implementation) -->
      <div id="bottom-sheet" class="bottom-sheet" style="display: none;">
        <div class="bottom-sheet-handle"></div>
        <div class="bottom-sheet-content">
          <!-- Mobile navigation content -->
        </div>
      </div>
    </div>
  </div>
  <script type="module" src="/src/main.ts"></script>
</body>
</html>